replicas: 1

resources:
  requests: { cpu: 50m,  memory: 256Mi }
  limits:   { cpu: 200m, memory: 512Mi }

logstashPlugins:
  - logstash-input-kafka

logstashPipeline:
  main.conf: |
    input {
      kafka {
        topics => ["logs-topic"]
        bootstrap_servers => "kafka-cluster-kafka-bootstrap.kafka:9092"
        # group_id => "logstash"
        # codec => json
      }
    }
    output {
      elasticsearch {
        hosts => ["http://elasticsearch-master.logging.svc:9200"]
        index => "logs-%{+YYYY.MM.dd}"
      }
      # stdout { codec => rubydebug }
    }

service:
  type: ClusterIP
  ports:
    - name: http
      port: 9600
      protocol: TCP
      targetPort: 9600


logstashJavaOpts: "-Xms256m -Xmx256m"
